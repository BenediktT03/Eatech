<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eatech Admin - Theme Management</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#FF6B6B">
    
    <!-- Google Fonts für Theme Builder -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Playfair+Display:wght@400;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* Admin Theme Variables - werden dynamisch überschrieben */
        :root {
            /* Default Admin Theme */
            --admin-primary: #FF6B6B;
            --admin-primary-dark: #FF5252;
            --admin-secondary: #4ECDC4;
            --admin-dark: #1a1a2e;
            --admin-darker: #0f0f1e;
            --admin-light: #F7F9FB;
            --admin-text: #E8E8E8;
            --admin-text-muted: #95A5A6;
            --admin-success: #2ECC71;
            --admin-warning: #F39C12;
            --admin-danger: #E74C3C;
            --admin-info: #3498DB;
            --admin-card-bg: #16213e;
            --admin-sidebar-bg: #0f1419;
            --admin-gradient-start: #0f0f1e;
            --admin-gradient-end: #1a1a2e;
            --admin-header-bg: rgba(26, 26, 46, 0.95);
            --admin-nav-bg: #16213e;
            --admin-border: #2a2a3e;
            --admin-border-accent: #FF6B6B;
            --admin-input-bg: #1a1a2e;
            
            /* Animation Variables */
            --hover-scale: 1.05;
            --hover-shadow: 0 10px 30px rgba(0,0,0,0.3);
            --transition-speed: 0.3s;
            --pulse-speed: 2s;
            --border-radius: 12px;
            --box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        /* Admin Themes */
        [data-admin-theme="noir-excellence"] {
            --admin-primary: #FF6B6B;
            --admin-secondary: #4ECDC4;
            --admin-card-bg: #16213e;
            --admin-sidebar-bg: #0f1419;
            --admin-gradient-start: #0f0f1e;
            --admin-gradient-end: #1a1a2e;
        }
        
        [data-admin-theme="midnight-purple"] {
            --admin-primary: #9B59B6;
            --admin-secondary: #3498DB;
            --admin-card-bg: #2C2C54;
            --admin-sidebar-bg: #1E1E3A;
            --admin-gradient-start: #1E1E3A;
            --admin-gradient-end: #2C2C54;
        }
        
        [data-admin-theme="forest-green"] {
            --admin-primary: #27AE60;
            --admin-secondary: #F39C12;
            --admin-card-bg: #1D3E2C;
            --admin-sidebar-bg: #14281D;
            --admin-gradient-start: #0A1612;
            --admin-gradient-end: #1D3E2C;
        }
        
        [data-admin-theme="ocean-blue"] {
            --admin-primary: #3498DB;
            --admin-secondary: #E74C3C;
            --admin-card-bg: #1C2E4A;
            --admin-sidebar-bg: #152238;
            --admin-gradient-start: #0C1929;
            --admin-gradient-end: #1C2E4A;
        }
        
        [data-admin-theme="sunset-orange"] {
            --admin-primary: #E67E22;
            --admin-secondary: #9B59B6;
            --admin-card-bg: #3E2723;
            --admin-sidebar-bg: #2E1A1A;
            --admin-gradient-start: #1A0E0E;
            --admin-gradient-end: #3E2723;
        }
        
        [data-admin-theme="royal-gold"] {
            --admin-primary: #F1C40F;
            --admin-secondary: #9B59B6;
            --admin-card-bg: #3D3A2B;
            --admin-sidebar-bg: #2A2817;
            --admin-gradient-start: #1A180F;
            --admin-gradient-end: #3D3A2B;
        }
        
        [data-admin-theme="deep-space"] {
            --admin-primary: #0080FF;
            --admin-secondary: #FF0080;
            --admin-card-bg: #001428;
            --admin-sidebar-bg: #000A14;
            --admin-gradient-start: #000000;
            --admin-gradient-end: #001428;
        }
        
        [data-admin-theme="sakura-blossom"] {
            --admin-primary: #FFB6C1;
            --admin-secondary: #FFD700;
            --admin-card-bg: #3D2525;
            --admin-sidebar-bg: #2D1B1B;
            --admin-gradient-start: #1A0F0F;
            --admin-gradient-end: #3D2525;
        }
        
        [data-admin-theme="arctic-frost"] {
            --admin-primary: #2C3E50;
            --admin-secondary: #3498DB;
            --admin-dark: #FFFFFF;
            --admin-darker: #F8F9FA;
            --admin-text: #2C3E50;
            --admin-text-muted: #7F8C8D;
            --admin-card-bg: #FFFFFF;
            --admin-sidebar-bg: #F8F9FA;
            --admin-gradient-start: #FFFFFF;
            --admin-gradient-end: #ECF0F1;
        }
        
        [data-admin-theme="volcanic-ash"] {
            --admin-primary: #757575;
            --admin-secondary: #FF5722;
            --admin-card-bg: #424242;
            --admin-sidebar-bg: #212121;
            --admin-gradient-start: #000000;
            --admin-gradient-end: #424242;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--admin-gradient-start) 0%, var(--admin-gradient-end) 100%);
            color: var(--admin-text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Admin Layout */
        .admin-wrapper {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .admin-sidebar {
            width: 260px;
            background: var(--admin-sidebar-bg);
            border-right: 1px solid var(--admin-border);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 2rem;
            border-bottom: 1px solid var(--admin-border);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
        }
        
        .logo-text {
            background: linear-gradient(135deg, var(--admin-primary) 0%, var(--admin-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .sidebar-nav {
            padding: 1rem;
        }

        .nav-item {
            display: block;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            color: var(--admin-text-muted);
            text-decoration: none;
            border-radius: 8px;
            transition: all var(--transition-speed);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .nav-item:hover {
            background: var(--admin-card-bg);
            color: var(--admin-text);
        }

        .nav-item.active {
            background: var(--admin-primary);
            color: white;
        }

        /* Main Content */
        .admin-main {
            flex: 1;
            margin-left: 260px;
            min-height: 100vh;
        }

        /* Header */
        .admin-header {
            background: var(--admin-header-bg);
            backdrop-filter: blur(10px);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--admin-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* Content */
        .admin-content {
            padding: 2rem;
        }

        /* Theme Manager Container */
        .theme-manager {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            height: calc(100vh - 200px);
        }

        /* Theme Selector */
        .theme-selector {
            background: var(--admin-card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            overflow-y: auto;
            box-shadow: var(--box-shadow);
        }

        .theme-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--admin-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Theme Grid */
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .theme-card {
            padding: 1rem;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-align: center;
        }

        .theme-card:hover {
            transform: scale(var(--hover-scale));
            border-color: var(--admin-primary);
        }

        .theme-card.active {
            border-color: var(--admin-primary);
            background: rgba(255, 107, 107, 0.1);
        }

        .theme-preview {
            display: flex;
            gap: 4px;
            margin-bottom: 0.5rem;
            justify-content: center;
        }

        .theme-preview span {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .theme-name {
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* Live Preview */
        .live-preview {
            background: var(--admin-card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .preview-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .preview-devices {
            display: flex;
            gap: 0.5rem;
        }

        .device-btn {
            padding: 0.5rem 1rem;
            background: var(--admin-input-bg);
            border: none;
            border-radius: 6px;
            color: var(--admin-text);
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        .device-btn.active {
            background: var(--admin-primary);
            color: white;
        }

        /* Preview Frame */
        .preview-frame {
            background: #fff;
            border-radius: 8px;
            height: 600px;
            overflow: hidden;
            position: relative;
        }

        .preview-frame.mobile {
            max-width: 375px;
            margin: 0 auto;
        }

        .preview-frame.tablet {
            max-width: 768px;
            margin: 0 auto;
        }

        .preview-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Custom Theme Builder */
        .custom-builder {
            display: none;
            margin-top: 2rem;
        }

        .custom-builder.active {
            display: block;
        }

        .builder-section {
            background: var(--admin-input-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .builder-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Color Inputs */
        .color-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .color-input-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .color-input-group label {
            font-size: 0.85rem;
            color: var(--admin-text-muted);
            min-width: 100px;
        }

        .color-input {
            width: 50px;
            height: 35px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .color-hex {
            width: 100px;
            padding: 0.5rem;
            background: var(--admin-darker);
            border: 1px solid var(--admin-border);
            border-radius: 6px;
            color: var(--admin-text);
            font-family: monospace;
        }

        /* Font Selector */
        .font-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .font-select {
            padding: 0.75rem;
            background: var(--admin-darker);
            border: 1px solid var(--admin-border);
            border-radius: 6px;
            color: var(--admin-text);
            cursor: pointer;
        }

        /* Animation Controls */
        .animation-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .slider-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .slider-group label {
            font-size: 0.85rem;
            color: var(--admin-text-muted);
        }

        .slider {
            width: 100%;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: var(--admin-border);
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--admin-primary);
            cursor: pointer;
        }

        .slider-value {
            font-size: 0.85rem;
            color: var(--admin-primary);
            font-weight: 600;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--admin-border);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-speed);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--admin-primary);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .btn-secondary {
            background: var(--admin-input-bg);
            color: var(--admin-text);
            border: 1px solid var(--admin-border);
        }

        .btn-secondary:hover {
            background: var(--admin-card-bg);
        }

        /* Tabs */
        .theme-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--admin-border);
        }

        .tab-btn {
            padding: 1rem 2rem;
            background: none;
            border: none;
            color: var(--admin-text-muted);
            font-weight: 500;
            cursor: pointer;
            position: relative;
            transition: all var(--transition-speed);
        }

        .tab-btn.active {
            color: var(--admin-primary);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--admin-primary);
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .theme-manager {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                transform: translateX(-100%);
            }
            
            .admin-main {
                margin-left: 0;
            }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--admin-card-bg);
            border: 1px solid var(--admin-border);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: var(--box-shadow);
            transform: translateX(400px);
            transition: transform var(--transition-speed);
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-color: var(--admin-success);
        }

        .toast.error {
            border-color: var(--admin-danger);
        }

        .toast-icon {
            font-size: 1.25rem;
        }

        .toast.success .toast-icon {
            color: var(--admin-success);
        }

        .toast.error .toast-icon {
            color: var(--admin-danger);
        }
    </style>
</head>
<body data-admin-theme="noir-excellence">
    <div class="admin-wrapper">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <a href="/admin-dashboard.html" class="sidebar-logo">
                    <i class="fas fa-utensils"></i>
                    <span class="logo-text">Eatech Admin</span>
                </a>
            </div>
            
            <nav class="sidebar-nav">
                <a href="/admin-dashboard.html" class="nav-item">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="/admin-orders.html" class="nav-item">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Bestellungen</span>
                </a>
                <a href="/admin-products.html" class="nav-item">
                    <i class="fas fa-box"></i>
                    <span>Produkte</span>
                </a>
                <a href="/admin-themes.html" class="nav-item active">
                    <i class="fas fa-palette"></i>
                    <span>Themes</span>
                </a>
                <a href="/admin-setup.html" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Setup</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <div class="header-content">
                    <h1 class="page-title">
                        <i class="fas fa-palette"></i>
                        Theme Management
                    </h1>
                    
                    <button class="btn btn-primary" onclick="saveAllThemes()">
                        <i class="fas fa-save"></i>
                        Alle Änderungen speichern
                    </button>
                </div>
            </header>

            <!-- Content -->
            <div class="admin-content">
                <!-- Theme Tabs -->
                <div class="theme-tabs">
                    <button class="tab-btn active" onclick="switchTab('admin')">
                        <i class="fas fa-shield-alt"></i>
                        Admin Theme
                    </button>
                    <button class="tab-btn" onclick="switchTab('customer')">
                        <i class="fas fa-store"></i>
                        Kunden Theme
                    </button>
                </div>

                <!-- Theme Manager -->
                <div class="theme-manager">
                    <!-- Theme Selector -->
                    <div class="theme-selector">
                        <!-- Admin Themes -->
                        <div class="theme-section" id="adminThemes">
                            <h3 class="section-title">
                                <i class="fas fa-paint-brush"></i>
                                Vordefinierte Admin Themes
                            </h3>
                            
                            <div class="theme-grid">
                                <div class="theme-card active" onclick="selectTheme('admin', 'noir-excellence')">
                                    <div class="theme-preview">
                                        <span style="background: #FF6B6B"></span>
                                        <span style="background: #16213e"></span>
                                        <span style="background: #4ECDC4"></span>
                                    </div>
                                    <div class="theme-name">Noir Excellence</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'midnight-purple')">
                                    <div class="theme-preview">
                                        <span style="background: #9B59B6"></span>
                                        <span style="background: #2C2C54"></span>
                                        <span style="background: #3498DB"></span>
                                    </div>
                                    <div class="theme-name">Midnight Purple</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'forest-green')">
                                    <div class="theme-preview">
                                        <span style="background: #27AE60"></span>
                                        <span style="background: #1D3E2C"></span>
                                        <span style="background: #F39C12"></span>
                                    </div>
                                    <div class="theme-name">Forest Green</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'ocean-blue')">
                                    <div class="theme-preview">
                                        <span style="background: #3498DB"></span>
                                        <span style="background: #1C2E4A"></span>
                                        <span style="background: #E74C3C"></span>
                                    </div>
                                    <div class="theme-name">Ocean Blue</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'sunset-orange')">
                                    <div class="theme-preview">
                                        <span style="background: #E67E22"></span>
                                        <span style="background: #3E2723"></span>
                                        <span style="background: #9B59B6"></span>
                                    </div>
                                    <div class="theme-name">Sunset Orange</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'royal-gold')">
                                    <div class="theme-preview">
                                        <span style="background: #F1C40F"></span>
                                        <span style="background: #3D3A2B"></span>
                                        <span style="background: #9B59B6"></span>
                                    </div>
                                    <div class="theme-name">Royal Gold</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'deep-space')">
                                    <div class="theme-preview">
                                        <span style="background: #0080FF"></span>
                                        <span style="background: #001428"></span>
                                        <span style="background: #FF0080"></span>
                                    </div>
                                    <div class="theme-name">Deep Space</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'sakura-blossom')">
                                    <div class="theme-preview">
                                        <span style="background: #FFB6C1"></span>
                                        <span style="background: #3D2525"></span>
                                        <span style="background: #FFD700"></span>
                                    </div>
                                    <div class="theme-name">Sakura Blossom</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'arctic-frost')">
                                    <div class="theme-preview">
                                        <span style="background: #2C3E50"></span>
                                        <span style="background: #FFFFFF"></span>
                                        <span style="background: #3498DB"></span>
                                    </div>
                                    <div class="theme-name">Arctic Frost</div>
                                </div>
                                
                                <div class="theme-card" onclick="selectTheme('admin', 'volcanic-ash')">
                                    <div class="theme-preview">
                                        <span style="background: #757575"></span>
                                        <span style="background: #424242"></span>
                                        <span style="background: #FF5722"></span>
                                    </div>
                                    <div class="theme-name">Volcanic Ash</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Customer Themes (initially hidden) -->
                        <div class="theme-section" id="customerThemes" style="display: none;">
                            <h3 class="section-title">
                                <i class="fas fa-store"></i>
                                Vordefinierte Kunden Themes
                            </h3>
                            
                            <div class="theme-grid">
                                <!-- Same themes but for customer -->
                                <div class="theme-card active" onclick="selectTheme('customer', 'noir-excellence')">
                                    <div class="theme-preview">
                                        <span style="background: #FF6B6B"></span>
                                        <span style="background: #16213e"></span>
                                        <span style="background: #4ECDC4"></span>
                                    </div>
                                    <div class="theme-name">Noir Excellence</div>
                                </div>
                                
                                <!-- ... repeat all themes for customer ... -->
                            </div>
                        </div>

                        <!-- Custom Theme Builder -->
                        <div class="theme-section">
                            <h3 class="section-title">
                                <i class="fas fa-magic"></i>
                                Custom Theme Builder
                            </h3>
                            
                            <button class="btn btn-secondary w-100" onclick="toggleCustomBuilder()">
                                <i class="fas fa-plus"></i>
                                Custom Theme erstellen
                            </button>
                            
                            <div class="custom-builder" id="customBuilder">
                                <!-- Colors Section -->
                                <div class="builder-section">
                                    <h4 class="builder-title">
                                        <i class="fas fa-palette"></i>
                                        Farben
                                    </h4>
                                    
                                    <div class="color-grid">
                                        <div class="color-input-group">
                                            <label>Primary:</label>
                                            <input type="color" class="color-input" id="customPrimary" value="#FF6B6B">
                                            <input type="text" class="color-hex" value="#FF6B6B">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Secondary:</label>
                                            <input type="color" class="color-input" id="customSecondary" value="#4ECDC4">
                                            <input type="text" class="color-hex" value="#4ECDC4">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Background:</label>
                                            <input type="color" class="color-input" id="customBg" value="#16213e">
                                            <input type="text" class="color-hex" value="#16213e">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Text:</label>
                                            <input type="color" class="color-input" id="customText" value="#E8E8E8">
                                            <input type="text" class="color-hex" value="#E8E8E8">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Success:</label>
                                            <input type="color" class="color-input" id="customSuccess" value="#2ECC71">
                                            <input type="text" class="color-hex" value="#2ECC71">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Warning:</label>
                                            <input type="color" class="color-input" id="customWarning" value="#F39C12">
                                            <input type="text" class="color-hex" value="#F39C12">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Danger:</label>
                                            <input type="color" class="color-input" id="customDanger" value="#E74C3C">
                                            <input type="text" class="color-hex" value="#E74C3C">
                                        </div>
                                        
                                        <div class="color-input-group">
                                            <label>Border:</label>
                                            <input type="color" class="color-input" id="customBorder" value="#2a2a3e">
                                            <input type="text" class="color-hex" value="#2a2a3e">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Typography Section -->
                                <div class="builder-section">
                                    <h4 class="builder-title">
                                        <i class="fas fa-font"></i>
                                        Typografie
                                    </h4>
                                    
                                    <div class="font-selector">
                                        <select class="font-select" id="primaryFont">
                                            <option value="Inter">Inter</option>
                                            <option value="Poppins">Poppins</option>
                                            <option value="Roboto">Roboto</option>
                                            <option value="Playfair Display">Playfair Display</option>
                                            <option value="Montserrat">Montserrat</option>
                                        </select>
                                        
                                        <select class="font-select" id="fontSize">
                                            <option value="14px">Klein (14px)</option>
                                            <option value="16px" selected>Normal (16px)</option>
                                            <option value="18px">Groß (18px)</option>
                                            <option value="20px">Sehr Groß (20px)</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Animation Section -->
                                <div class="builder-section">
                                    <h4 class="builder-title">
                                        <i class="fas fa-magic"></i>
                                        Animationen & Effekte
                                    </h4>
                                    
                                    <div class="animation-controls">
                                        <div class="slider-group">
                                            <label>Hover Scale: <span class="slider-value" id="hoverScaleValue">1.05</span></label>
                                            <input type="range" class="slider" id="hoverScale" 
                                                   min="1" max="1.2" step="0.01" value="1.05">
                                        </div>
                                        
                                        <div class="slider-group">
                                            <label>Transition Speed: <span class="slider-value" id="transitionSpeedValue">0.3s</span></label>
                                            <input type="range" class="slider" id="transitionSpeed" 
                                                   min="0.1" max="1" step="0.1" value="0.3">
                                        </div>
                                        
                                        <div class="slider-group">
                                            <label>Border Radius: <span class="slider-value" id="borderRadiusValue">12px</span></label>
                                            <input type="range" class="slider" id="borderRadius" 
                                                   min="0" max="30" step="1" value="12">
                                        </div>
                                        
                                        <div class="slider-group">
                                            <label>Shadow Intensity: <span class="slider-value" id="shadowIntensityValue">20</span></label>
                                            <input type="range" class="slider" id="shadowIntensity" 
                                                   min="0" max="50" step="5" value="20">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Pulse Animation Color -->
                                <div class="builder-section">
                                    <h4 class="builder-title">
                                        <i class="fas fa-heartbeat"></i>
                                        Button Pulse Effect
                                    </h4>
                                    
                                    <div class="color-grid">
                                        <div class="color-input-group">
                                            <label>Pulse Color:</label>
                                            <input type="color" class="color-input" id="pulseColor" value="#FF6B6B">
                                            <input type="text" class="color-hex" value="#FF6B6B">
                                        </div>
                                        
                                        <div class="slider-group">
                                            <label>Pulse Speed: <span class="slider-value" id="pulseSpeedValue">2s</span></label>
                                            <input type="range" class="slider" id="pulseSpeed" 
                                                   min="0.5" max="5" step="0.5" value="2">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Preview -->
                    <div class="live-preview">
                        <div class="preview-header">
                            <h3 class="preview-title">Live Preview</h3>
                            
                            <div class="preview-devices">
                                <button class="device-btn active" onclick="setPreviewDevice('desktop')">
                                    <i class="fas fa-desktop"></i>
                                </button>
                                <button class="device-btn" onclick="setPreviewDevice('tablet')">
                                    <i class="fas fa-tablet-alt"></i>
                                </button>
                                <button class="device-btn" onclick="setPreviewDevice('mobile')">
                                    <i class="fas fa-mobile-alt"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="preview-frame desktop" id="previewFrame">
                            <iframe class="preview-iframe" id="previewIframe" src="/index.html"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle toast-icon"></i>
        <span class="toast-message">Theme wurde gespeichert!</span>
    </div>

    <script>
        // Theme Management System
        let currentTab = 'admin';
        let currentAdminTheme = localStorage.getItem('eatechThemeAdmin') || 'noir-excellence';
        let currentCustomerTheme = localStorage.getItem('eatechThemeCustomer') || 'noir-excellence';
        let customTheme = JSON.parse(localStorage.getItem('eatechCustomTheme')) || {};
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Set current admin theme
            document.body.setAttribute('data-admin-theme', currentAdminTheme);
            
            // Update active theme cards
            updateActiveThemes();
            
            // Setup event listeners
            setupColorInputs();
            setupSliders();
            
            // Load preview
            updatePreview();
        });
        
        // Switch between Admin and Customer tabs
        function switchTab(tab) {
            currentTab = tab;
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(tab)) {
                    btn.classList.add('active');
                }
            });
            
            // Show/hide theme sections
            if (tab === 'admin') {
                document.getElementById('adminThemes').style.display = 'block';
                document.getElementById('customerThemes').style.display = 'none';
            } else {
                document.getElementById('adminThemes').style.display = 'none';
                document.getElementById('customerThemes').style.display = 'block';
            }
            
            // Update preview
            updatePreview();
        }
        
        // Select Theme
        function selectTheme(target, themeName) {
            if (target === 'admin') {
                currentAdminTheme = themeName;
                document.body.setAttribute('data-admin-theme', themeName);
            } else {
                currentCustomerTheme = themeName;
            }
            
            // Update active states
            updateActiveThemes();
            
            // Update preview
            updatePreview();
            
            // Show toast
            showToast(`${target === 'admin' ? 'Admin' : 'Kunden'} Theme geändert zu ${themeName}`);
        }
        
        // Update Active Theme Cards
        function updateActiveThemes() {
            // Admin themes
            document.querySelectorAll('#adminThemes .theme-card').forEach(card => {
                card.classList.remove('active');
                if (card.onclick.toString().includes(currentAdminTheme)) {
                    card.classList.add('active');
                }
            });
            
            // Customer themes
            document.querySelectorAll('#customerThemes .theme-card').forEach(card => {
                card.classList.remove('active');
                if (card.onclick.toString().includes(currentCustomerTheme)) {
                    card.classList.add('active');
                }
            });
        }
        
        // Toggle Custom Builder
        function toggleCustomBuilder() {
            const builder = document.getElementById('customBuilder');
            builder.classList.toggle('active');
        }
        
        // Setup Color Inputs
        function setupColorInputs() {
            document.querySelectorAll('.color-input').forEach(input => {
                const hexInput = input.nextElementSibling;
                
                input.addEventListener('input', (e) => {
                    hexInput.value = e.target.value;
                    updateCustomTheme();
                });
                
                hexInput.addEventListener('input', (e) => {
                    input.value = e.target.value;
                    updateCustomTheme();
                });
            });
        }
        
        // Setup Sliders
        function setupSliders() {
            document.querySelectorAll('.slider').forEach(slider => {
                const valueDisplay = document.getElementById(slider.id + 'Value');
                
                slider.addEventListener('input', (e) => {
                    let value = e.target.value;
                    if (slider.id.includes('Speed')) value += 's';
                    if (slider.id.includes('Radius')) value += 'px';
                    
                    valueDisplay.textContent = value;
                    updateCustomTheme();
                });
            });
        }
        
        // Update Custom Theme
        function updateCustomTheme() {
            customTheme = {
                colors: {
                    primary: document.getElementById('customPrimary').value,
                    secondary: document.getElementById('customSecondary').value,
                    background: document.getElementById('customBg').value,
                    text: document.getElementById('customText').value,
                    success: document.getElementById('customSuccess').value,
                    warning: document.getElementById('customWarning').value,
                    danger: document.getElementById('customDanger').value,
                    border: document.getElementById('customBorder').value,
                    pulseColor: document.getElementById('pulseColor').value
                },
                typography: {
                    fontFamily: document.getElementById('primaryFont').value,
                    fontSize: document.getElementById('fontSize').value
                },
                animations: {
                    hoverScale: document.getElementById('hoverScale').value,
                    transitionSpeed: document.getElementById('transitionSpeed').value + 's',
                    borderRadius: document.getElementById('borderRadius').value + 'px',
                    shadowIntensity: document.getElementById('shadowIntensity').value,
                    pulseSpeed: document.getElementById('pulseSpeed').value + 's'
                }
            };
            
            // Apply to current page if admin theme
            if (currentTab === 'admin' && document.querySelector('#adminThemes .theme-card.custom.active')) {
                applyCustomTheme(customTheme);
            }
            
            // Update preview
            updatePreview();
        }
        
        // Apply Custom Theme
        function applyCustomTheme(theme) {
            const root = document.documentElement;
            
            // Apply colors
            Object.entries(theme.colors).forEach(([key, value]) => {
                root.style.setProperty(`--admin-${key}`, value);
            });
            
            // Apply typography
            root.style.setProperty('font-family', theme.typography.fontFamily);
            root.style.setProperty('font-size', theme.typography.fontSize);
            
            // Apply animations
            root.style.setProperty('--hover-scale', theme.animations.hoverScale);
            root.style.setProperty('--transition-speed', theme.animations.transitionSpeed);
            root.style.setProperty('--border-radius', theme.animations.borderRadius);
            root.style.setProperty('--box-shadow', `0 5px ${theme.animations.shadowIntensity}px rgba(0,0,0,0.2)`);
            root.style.setProperty('--pulse-speed', theme.animations.pulseSpeed);
        }
        
        // Update Preview
        function updatePreview() {
            const iframe = document.getElementById('previewIframe');
            
            // Send message to iframe to update theme
            iframe.onload = () => {
                const theme = currentTab === 'admin' ? currentAdminTheme : currentCustomerTheme;
                iframe.contentWindow.postMessage({
                    type: 'updateTheme',
                    theme: theme,
                    customTheme: customTheme
                }, '*');
            };
            
            // Reload iframe to apply changes
            iframe.src = iframe.src;
        }
        
        // Set Preview Device
        function setPreviewDevice(device) {
            const frame = document.getElementById('previewFrame');
            frame.className = `preview-frame ${device}`;
            
            // Update active button
            document.querySelectorAll('.device-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerHTML.toLowerCase().includes(device)) {
                    btn.classList.add('active');
                }
            });
        }
        
        // Save All Themes
        function saveAllThemes() {
            // Save to localStorage
            localStorage.setItem('eatechThemeAdmin', currentAdminTheme);
            localStorage.setItem('eatechThemeCustomer', currentCustomerTheme);
            localStorage.setItem('eatechCustomTheme', JSON.stringify(customTheme));
            
            // Show success toast
            showToast('Alle Themes wurden gespeichert!', 'success');
            
            // Here you would also save to Firebase
            // saveThemesToFirebase();
        }
        
        // Show Toast
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const icon = toast.querySelector('.toast-icon');
            const msg = toast.querySelector('.toast-message');
            
            // Update content
            msg.textContent = message;
            toast.className = `toast ${type} show`;
            
            // Update icon
            if (type === 'success') {
                icon.className = 'fas fa-check-circle toast-icon';
            } else if (type === 'error') {
                icon.className = 'fas fa-exclamation-circle toast-icon';
            }
            
            // Hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>